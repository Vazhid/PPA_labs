### Методы записи

1. **Студия:**
   - **Преимущества:** высокое качество звука, контроль над условиями записи, минимизация фоновых шумов.
   - **Недостатки:** высокие затраты на оборудование и аренду студии, ограниченная доступность носителей языка в определённых локациях.

2. **Краудсорсинг:**
   - **Преимущества:** возможность быстро собрать большое количество данных, доступность широкого круга носителей языка.
   - **Недостатки:** вариативность качества звука, сложность контроля за условиями записи, необходимость дополнительной обработки и фильтрации данных.

### Инструменты для автоматической разметки с ручной постобработкой

1. **Kaldi:** открытая система для распознавания речи, которая может быть адаптирована для автоматической фонетической разметки аудиоданных. После автоматической разметки необходима ручная проверка и корректировка.

2. **Montreal Forced Aligner (MFA):** инструмент для выравнивания текста и аудио, который можно использовать для автоматической генерации временных меток для фонетических сегментов. Требует настройки под специфику лезгинского языка.

3. **Praat:** программное обеспечение для анализа и синтеза речи, которое позволяет вручную разметить аудиоданные и провести детальный анализ фонетических характеристик. Подходит для ручной постобработки автоматически размеченных данных.

### Минимальный объём данных для старта

Для начала работы над TTS-системой для лезгинского языка рекомендуется иметь минимум 5–10 часов аудиозаписей с соответствующими текстовыми транскрипциями. Это позволит обучить базовые модели и начать процесс итеративной доработки системы.

### Метрики для оценки качества синтеза

1. **MOS (Mean Opinion Score):** субъективная метрика, которая оценивает качество синтезированной речи по шкале от 1 до 5. Проводится опрос слушателей, которые оценивают естественность и понятность речи.

2. **PESQ (Perceptual Evaluation of Speech Quality):** алгоритмическая метрика, которая сравнивает синтезированную речь с эталонной записью и оценивает качество на основе перцептивных моделей.

3. **STOI (Short-Time Objective Intelligibility):** метрика для оценки понятности речи, основанная на сравнении спектральных характеристик синтезированной и эталонной речи.

4. **WER (Word Error Rate):** метрика для оценки точности распознавания речи, которая может быть адаптирована для оценки качества синтеза путём сравнения синтезированного текста с исходным.

### Готовые скрипты для расчёта метрик на Python

1. **PESQ:** можно использовать библиотеку `pesq` для расчёта PESQ в Python. Пример использования:
   ```python
   import pesq
   
   def calculate_pesq(reference, synthesized):
       score = pesq.pesq(reference, synthesized, fs)
       return score
   ```

2. **STOI:** библиотека `pystoi` предоставляет инструменты для расчёта STOI. Пример использования:
   ```python
   from pystoi.stoi import stoi
   
   def calculate_stoi(reference, synthesized):
       score = stoi(reference, synthesized, fs)
       return score
   ```

3. **WER:** для расчёта WER можно использовать библиотеку `warprnnt` или `editdistance`. Пример использования:
   ```python
   import editdistance
   
   def calculate_wer(reference, synthesized):
       wer = editdistance.eval(reference.split(), synthesized.split()) / len(reference.split())
       return wer
   ```

Для MOS обычно требуется проведение субъективных тестов с участием слушателей, и результаты обрабатываются вручную или с помощью специализированного программного обеспечения.