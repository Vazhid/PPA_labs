Создание корпуса для малоресурсного языка (такого как лезгинский) — сложная, но решаемая задача. Рассмотрим **стратегии сбора, разметки и оценки данных**, а также **примеры успешных кейсов** для дагестанских и других малоресурсных языков.  

---

## **1. Стратегии сбора аудиоданных**  
### **(A) Источники данных**  
| Источник                     | Плюсы | Минусы | Примеры |
|------------------------------|-------|--------|---------|
| **Запись носителей** (краудсорсинг) | Высокое качество, контроль диалектов | Трудоемко, требует оплаты | [Qırımtatarca TTS](https://github.com/hrincub/qtts) (крымскотатарский) |
| **Публичные записи** (радио, подкасты, YouTube) | Большой объем, естественная речь | Нет транскрипций, возможен шум | [Avar Speech Corpus](https://ilab.media/avarskij-korpus/) |
| **Синтезированные данные → доочистка** | Быстро, дешево | Низкое качество без постобработки | Не рекомендуется для финального TTS |
| **Переводные корпуса** (параллельные тексты) | Можно использовать для transfer learning | Требует выравнивания | [Google’s Crowdsourced TTS](https://research.google/pubs/pub50189/) |

### **(B) Организация сбора**  
- **Краудсорсинг через платформы** (Amazon Mechanical Turk, Toloka, местные сообщества).  
- **Сотрудничество с вузами/школами** (носители могут записывать фразы за вознаграждение).  
- **Использование открытых репозиториев** (например, [Common Voice](https://commonvoice.mozilla.org/), но лезгинского там почти нет).  

---

## **2. Разметка данных**  
### **(A) Автоматическая разметка** (если нет экспертов-носителей)  
| Метод                     | Инструменты | Точность |  
|---------------------------|-------------|----------|  
| **ASR-выравнивание** (Whisper, Vosk) | [Whisper](https://github.com/openai/whisper), [Gentle](https://github.com/lowerquality/gentle) | ~85-95% (зависит от языка) |  
| **Forced Alignment** (MFA) | [Montreal Forced Aligner](https://montreal-forced-aligner.readthedocs.io/) | Требует G2P для лезгинского |  
| **Полуавтоматическая проверка** (разметка + ручная коррекция) | Audacity, ELAN | Лучшее качество, но медленно |  

### **(B) Формат разметки**  
- **Транскрипция в IPA** (если есть фонетисты).  
- **Разметка ударений и границ слов** (важно для агглютинативных языков).  
- **Метаданные** (пол, возраст, диалект).  

---

## **3. Оценка качества корпуса**  
### **(A) Автоматические метрики**  
| Метрика               | Описание |  
|-----------------------|----------|  
| **WER (Word Error Rate)** | Сравнение ASR-расшифровки с эталоном |  
| **DURATION MSE**       | Проверка выравнивания по длительностям |  
| **Pitch/Energy Variance** | Естественность интонаций |  

### **(B) Субъективная оценка без носителей**  
- **Кросс-языковое сравнение** (например, оценка русскоязычными, знающими лезгинский).  
- **ABX-тестирование** (слушатель выбирает более естественный вариант).  
- **Использование multilingual TTS моделей** (YourTTS, XTTS) для проверки вменяемости данных.  

---

## **4. Успешные кейсы для дагестанских языков**  
### **(A) Аварский язык**  
- **Источник:** Радиопередачи, записанные в Дагестане.  
- **Разметка:** Полуавтоматическая (Whisper + ручная проверка).  
- **Использование:** [Avar Speech Dataset](https://ilab.media/avarskij-korpus/) (используется в ASR).  

### **(B) Лакский язык**  
- **Сбор:** Краудсорсинг через местные сообщества.  
- **Модель:** Дообученный VITS на ~7 часах данных.  

### **(C) Другие примеры**  
- **Татарский:** [Qırımtatarca TTS](https://github.com/hrincub/qtts) (5 часов данных + transfer learning).  
- **Осетинский:** Использование [Coqui TTS](https://github.com/coqui-ai/TTS) с дообучением.  

---

## **Выводы и рекомендации**  
1. **Сбор:**  
   - Лучший вариант — **краудсорсинг + радиоархивы**.  
   - Если данных мало, можно **добавить синтезированные данные** (но осторожно).  
2. **Разметка:**  
   - **Whisper → ручная проверка** (если нет фонетистов).  
   - **MFA** (если есть G2P-модель для лезгинского).  
3. **Оценка:**  
   - **WER + ABX-тесты** (если нет носителей).  
   - **Transfer learning на XTTS** для проверки вменяемости данных.  

Если удастся собрать **10+ часов** размеченных данных, можно обучать **VITS/FastSpeech 2** с хорошим качеством. Для меньшего объема лучше **few-shot TTS (YourTTS, XTTS)**.  

Есть ли у вас доступ к носителям или сообществам лезгинского языка? Это сильно упростит сбор данных.